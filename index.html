<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login - Expense Tracker</title>

    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Lao&display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon.png"
    />

    <style>
      body {
        background: linear-gradient(
          90deg,
          #dff7f3 0%,
          #c8fad3 42%,
          #ffd6f1 56%
        );
        font-family: "Noto Sans Lao", "Poppins", sans-serif;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px;
      }

      .card {
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        background: #fff;
      }

      .brand-text {
        font-weight: 600;
        color: #00b894;
      }

      .form-control {
        border-radius: 10px;
        padding: 12px;
      }

      .btn-custom {
        background-color: #00b894;
        border: none;
        border-radius: 10px;
        font-weight: bold;
        padding: 10px;
        width: 100%;
        color: white;
      }

      .btn-custom:hover {
        background-color: #019875;
      }

      .spinner-border {
        display: none;
      }

      .welcome-section {
        padding: 20px;
      }

      .welcome-section h1 {
        font-weight: bold;
        font-size: 2rem;
      }

      .welcome-section p {
        font-size: 1rem;
        color: #444;
      }

      .welcome-section .btn {
        margin-top: 15px;
      }

      @media (max-width: 768px) {
        .welcome-section {
          text-align: center;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row align-items-center">
        <!-- Welcome Section -->
        <div class="col-lg-6 col-md-12 mb-4">
          <section class="welcome-section">
            <h1>
              ຍິນດີຕ້ອນຮັບເຂົ້າສູ່
              <span class="brand-text">ເວັບໃຊ້ຈັດການ ລາຍຮັບ/ລາຍຈ່າຍ</span>
            </h1>
            <p class="wow fadeInUp" data-wow-duration="1s" data-wow-delay="2s">
              ແອັບຕິດຕາມຄ່າໃຊ້ຈ່າຍໂດຍທົ່ວໄປ
              ເພື່ອຕິດຕາມຄ່າໃຊ້ຈ່າຍຂອງທ່ານໄດ້ຢ່າງງ່າຍດາຍ. ບັນທຶກຄ່າເດີນທາງ
              ໄລຍະທາງ ແລະອາຫານໄດ້ທຸກມື້.
            </p>
            <a href="index.html" class="btn btn-custom w-50">ສະໝັກບັນຊີໃໝ່</a>
          </section>
        </div>

        <!-- Login Form -->
        <div class="col-lg-6 col-md-12">
          <div class="card p-4">
            <div class="text-center mb-4">
              <h2 class="brand-text">ເຂົ້າສູ່ລະບົບ</h2>
              <p class="text-muted">ມາເລີ່ມຈັດການລາຍຈ່າຍລາຍຮັບກັນເລີຍ</p>
            </div>

            <form onsubmit="login(event)">
              <div class="mb-3">
                <label for="userEmail" class="form-label">ອີເມວ</label>
                <input
                  type="email"
                  class="form-control"
                  id="userEmail"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="userPassword" class="form-label">ລະຫັດຜ່ານ</label>
                <input
                  type="password"
                  class="form-control"
                  id="userPassword"
                  required
                />
              </div>

              <div class="d-flex justify-content-center mb-3">
                <div
                  class="spinner-border text-success"
                  role="status"
                  id="loader"
                >
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div>

              <button type="submit" class="btn btn-custom">
                ເຂົ້າສູ່ລະບົບ
              </button>
            </form>

            <div class="mt-3 text-center">
              <p class="text-muted">
                ຍັງບໍ່ມີັບັນຊີ?
                <a href="signup.html" class="text-success fw-bold"
                  >ສະໝັກບັນຊີ</a
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>

    <!-- Firebase Config -->
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyARaEo61U-dTZTYxb9r8JKO3ESwCQwPlIo",
        authDomain: "learn-indonesian.firebaseapp.com",
        projectId: "learn-indonesian",
        storageBucket: "learn-indonesian.appspot.com",
        messagingSenderId: "61342559557",
        appId: "1:61342559557:web:dff4d03cef9fb5cf1b222c",
      };
      firebase.initializeApp(firebaseConfig);
    </script>

    <!-- Login Script -->
    <script>
      function login(event) {
        event.preventDefault();
        const email = document.getElementById("userEmail").value;
        const password = document.getElementById("userPassword").value;
        const loader = document.getElementById("loader");

        loader.style.display = "inline-block";

        firebase
          .auth()
          .signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            loader.style.display = "none";
            
            window.location.href = "dashboard.html";
          })
          .catch((error) => {
            loader.style.display = "none";
            alert("❌ ລະຫັດຫຼືເມວບໍຖືກຕ້ອງ: ");
          });
      }
    </script>
  </body>
</html>
